# Production Environment Variables Template for Google Cloud Platform
# Copy this to Secret Manager or set as Cloud Run environment variables

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Format: postgresql://user:password@/database?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
# For Cloud SQL via Unix socket (recommended):
DATABASE_URL=postgresql://postgres:PASSWORD@/novaintel?host=/cloudsql/PROJECT_ID:REGION:novaintel-db

# Alternative: Direct TCP connection (requires authorized network)
# DATABASE_URL=postgresql://postgres:PASSWORD@CLOUD_SQL_IP:5432/novaintel?sslmode=require

# ============================================
# SECURITY
# ============================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-generate-with-openssl-rand-hex-32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# CLOUD STORAGE
# ============================================
USE_CLOUD_STORAGE=true
GCS_BUCKET_NAME=PROJECT_ID-novaintel-uploads
GCS_CHROMADB_BUCKET=PROJECT_ID-novaintel-chromadb
GCS_EXPORTS_BUCKET=PROJECT_ID-novaintel-exports

# ============================================
# LLM PROVIDER - GEMINI
# ============================================
GEMINI_API_KEY=your-gemini-api-key-here
LLM_PROVIDER=gemini
GEMINI_MODEL=gemini-1.5-flash

# ============================================
# EMBEDDING MODEL
# ============================================
EMBEDDING_PROVIDER=openai
EMBEDDING_MODEL=text-embedding-3-large
OPENAI_API_KEY=your-openai-api-key-here

# ============================================
# VECTOR DATABASE
# ============================================
VECTOR_DB_TYPE=chroma
# ChromaDB will use Cloud Storage if USE_CLOUD_STORAGE=true
CHROMA_PERSIST_DIR=./chroma_db

# ============================================
# REDIS CACHE (Optional - Cloud Memorystore)
# ============================================
REDIS_ENABLED=true
# For Cloud Memorystore, use internal IP:
# REDIS_HOST=10.x.x.x  # Get from Cloud Memorystore instance
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# ============================================
# EMAIL CONFIGURATION
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=your-email@gmail.com
FRONTEND_URL=https://your-frontend-url.run.app

# ============================================
# CORS CONFIGURATION
# ============================================
# Replace with your actual frontend URL
CORS_ORIGINS=https://your-frontend-url.run.app
ALLOWED_HOSTS=*

# ============================================
# FILE UPLOAD
# ============================================
MAX_FILE_SIZE=20971520
ALLOWED_EXTENSIONS=.pdf,.docx

# ============================================
# PORT (Cloud Run sets this automatically)
# ============================================
PORT=8080

# ============================================
# OPTIONAL: WEB SEARCH
# ============================================
WEB_SEARCH_PROVIDER=duckduckgo
GOOGLE_SEARCH_API_KEY=
GOOGLE_SEARCH_ENGINE_ID=

# ============================================
# OPTIONAL: MONITORING
# ============================================
LANGCHAIN_API_KEY=
LANGCHAIN_TRACING_V2=false

# ============================================
# DATABASE POOL SETTINGS (for Cloud SQL)
# ============================================
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=0
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800
DB_USE_NULLPOOL=false
DB_CONNECT_TIMEOUT=5

